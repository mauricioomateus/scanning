#!/bin/bash

if [ $1 == "" ]
then

echo "======================================================================="
echo "=========== Modo de uso: ./findip.sh dominio.com wordlist ============="
echo "======================================================================="

else
echo " *** In progres... *** "

gobuster dns -d $1 -w $2 -q > arquivo.txt

echo " =====================================================================  "
echo " ==================== Ajustando arquivos ... =========================  "
echo " ========================== .. 30% .. ================================  "

cat arquivo.txt | grep $1 | cut -d " " -f 2 > ip.txt

echo " =====================================================================  "
echo " ==================== Convertendo em IP  ... =========================  "
echo " ========================== .. 70% .. ================================  "

rm arquivo.txt
nmap -v -sn -iL ip.txt -oG ativos.txt
rm ip.txt
clear

cat ativos.txt | grep "Up" | cut -d " " -f 2 > ip_ativo.txt

rm ativos.txt

echo " =====================================================================  "
echo " ========================== Finalizado ===============================  "
echo " ========================== .. 100% .. ===============================  "
echo " ================== Arquivo criado: ip_ativos.txt ====================  "
fi
